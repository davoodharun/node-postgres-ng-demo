<div>
	<div id='contracts'>
		<h3>Contracts</h3>
		<form ng-submit='addContract()' name="contractForm" novalidate>
			<table class="table table-striped table-condensed">
				<tr>
					<th>contract id</th>
					<th>player id</th>
					<th>team id</th>
					<th>base salary</th>
					<th>signing bonus</th>
					<th>workout bonus</th>
					<th>cap value</th>
					<th>cash value</th>
					<th>total guarantee</th>
					<th>signing date</th>
					<th class='submit'>disposition</th>
					<th>disposition date</th>
					<th>first year</th>
					<th>last year</th>
					<th>updated by</th>
					<th>updated at</th>
					<th></th>
					<th></th>
				</tr>
				<tr ng-repeat="contract in contracts">
					<td>{{contract.contract_id}}</td>
					<td ng-click='getTransactionsByPlayerId(contract.player_contact_id)' class='pointer mockLink'>{{contract.player_contact_id}}</td>
					<td>{{contract.team_id}}</td>
					<td>{{contract.base_salary}}</td>
					<td>{{contract.signing_bonus}}</td>
					<td>{{contract.workout_bonus}}</td>
					<td>{{contract.cap_value}}</td>
					<td>{{contract.cash_value}}</td>
					<td>{{contract.total_guarantee}}</td>
					<td>{{contract.signing_date}}</td>
					<td>{{contract.contract_disposition}}</td>
					<td>{{contract.contract_disposition_date}}</td>
					<td>{{contract.first_year}}</td>
					<td>{{contract.last_year}}</td>
					<td>{{contract.updated_by}}</td>
					<td>{{contract.updated_at}}</td>
					<td ng-click='navToUpdate(contract.contract_id, "contract")' class='pointer update'> UPDATE </td>
					<td ng-click='deleteContract(contract.contract_id)' class='pointer delete'> DELETE </td>
				</tr>
				<tr>
					<td><input type='text' name='contract_id' ng-model='contract_id' required ng-class="{ 'has-error' : contractForm.contract_id.$invalid && !contractForm.contract_id.$pristine }"></td>
					<td><input type='text' name="player_contact_id" ng-model='player_contact_id' required></td>
					<td><input type='text' name="team_id" ng-model='team_id' required></td>
					<td><input type='text' name="base_salary" ng-model='base_salary' required></td>
					<td><input type='text' name="signing_bonus" ng-model='signing_bonus' required></td>
					<td><input type='text' name="workout_bonus" ng-model='workout_bonus' required></td>
					<td><input type='text' name="cap_value" ng-model='cap_value' required></td>
					<td><input type='text' name="cash_value" ng-model='cash_value' required></td>
					<td><input type='text' name="total_guarantee" ng-model='total_guarantee' required></td>
					<td><input type='text' name="signing_date" ng-model='signing_date' required></td>
					<td>
						<fieldset class="form-group">
					    <select name="contract_disposition" ng-model='contract_disposition' class="form-control" required>
					      <option>Current</option>
					      <option>Expired</option>
					    </select>
						</fieldset>
					</td>
					<td><input type='text' name="contract_disposition_date" ng-model='contract_disposition_date' required></td>
					<td><input type='text' name="first_year" ng-model='first_year' required></td>
					<td><input type='text' name="last_year" ng-model='last_year' required></td>
					<td><input type='text' name="updated_by" ng-model='updated_by' required></td>
					<td><button type='submit' ng-disabled="contractForm.$invalid">CREATE</button></td>
			</tr>
			</table>
		</form>
		<div id='contract-error'>
			<span ng-show="contractForm.contract_id.$invalid && !contractForm.contract_id.$pristine" class="help-block">A contract id is required.</span>
			<span ng-show="contractForm.player_contact_id.$invalid && !contractForm.player_contact_id.$pristine" class="help-block">A player id is required.</span>
			<span ng-show="contractForm.team_id.$invalid && !contractForm.team_id.$pristine" class="help-block">A team is required.</span>
			<span ng-show="contractForm.base_salary.$invalid && !contractForm.base_salary.$pristine" class="help-block">A base salary is required.</span>
			<span ng-show="contractForm.signing_bonus.$invalid && !contractForm.signing_bonus.$pristine" class="help-block">A signing bonus is required.</span>
			<span ng-show="contractForm.workout_bonus.$invalid && !contractForm.workout_bonus.$pristine" class="help-block">A workout bonus is required.</span>
			<span ng-show="contractForm.cash_value.$invalid && !contractForm.cash_value.$pristine" class="help-block">A cash value is required.</span>
			<span ng-show="contractForm.total_guarantee.$invalid && !contractForm.total_guarantee.$pristine" class="help-block">A total guarantee is required.</span>
			<span ng-show="contractForm.signing_date.$invalid && !contractForm.signing_date.$pristine" class="help-block">A signing date is required.</span>
			<span ng-show="contractForm.contract_disposition.$invalid && !contractForm.contract_disposition.$pristine" class="help-block">A contract disposition is required.</span>
			<span ng-show="contractForm.contract_disposition_date.$invalid && !contractForm.contract_disposition_date.$pristine" class="help-block">A contract disposition date is required.</span>
			<span ng-show="contractForm.last_year.$invalid && !contractForm.last_year.$pristine" class="help-block">A last year is required.</span>
			<span ng-show="contractForm.first_year.$invalid && !contractForm.first_year.$pristine" class="help-block">A first year is required.</span>
			<span ng-show="contractForm.update_by.$invalid && !contractForm.update_by.$pristine" class="help-block">You must enter your name.</span>
		</div>
	</div>
	<div id ='transactions'>
		<h3>Transactions</h3>
		<button ng-click='getAllTransactions()'>Show All</button>
			<form ng-submit='addTransaction()' name='transactionForm' id='transactionForm'>
				<table class="table table-striped table-condensed">
					<tr>
						<th>transaction id</th>
						<th>player id</th>
						<th>team id</th>
						<th>type</th>
						<th>transaction date</th>
						<th>status</th>
						<th>sub_status</th>
						<th>comments</th>
						<th>updated by</th>
						<th>updated at</th>
						<th></th>
						<th></th>
					</tr>
					<tr ng-repeat="transaction in transactions">
						<td>{{transaction.transaction_id}}</td>
						<td>{{transaction.player_contact_id}}</td>
						<td>{{transaction.team_id}}</td>
						<td>{{transaction.transaction_type}}</td>
						<td>{{transaction.transaction_date}}</td>
						<td>{{transaction.status}}</td>
						<td>{{transaction.sub_status}}</td>
						<td>{{transaction.comments}}</td>
						<td>{{transaction.updated_by}}</td>
						<td>{{transaction.updated_at}}</td>
						<td ng-click='navToUpdate(transaction.transaction_id, "transaction")' class='pointer update'> UPDATE </td>
						<td ng-click='deleteTransaction(transaction.transaction_id)' class='pointer delete' > DELETE </td>
					</tr>
					<tr>
			  		<td><input type='text' required name="transaction_id" ng-model='transaction_id'></td>
			  		<td><input type='text' required name="player_contact_id" ng-model='player_contact_id'></td>
			  		<td><input type='text' required name="team_id" ng-model='team_id'></td>
			  		<td>
		  				<fieldset class="form-group">
		  			    <select required name="transaction_type" ng-model='transaction_type' class="form-control">
		  			      <option>New Contract</option>
		  			      <option>Injured</option>
		  			      <option>Activated</option>
		  			      <option>Waived</option>
		  			    </select>
		  				</fieldset>
			  		</td>
			  		<td><input type='text' required name="transaction_date" ng-model='transaction_date'></td>
			  		<td><input type='text' required name="status" ng-model='status'></td>
			  		<td><input type='text' name="sub_status" ng-model='sub_status'></td>
			  		<td><input type='text' name="comments" ng-model='comments'></td>
			  		<td><input type='text' required name="updated_by" ng-model='updated_by'></td>
			  		<td><button form='transactionForm' value='submit' ng-disabled="transactionForm.$invalid" type='submit'>CREATE</button></td>			  	
					</tr>
				</table>
			</form>
		<div id='contract-error'>
			<span ng-show="transactionForm.transaction_id.$invalid && !transactionForm.transaction_id.$pristine" class="help-block">A contract id is required.</span>
			<span ng-show="transactionForm.player_contact_id.$invalid && !transactionForm.player_contact_id.$pristine" class="help-block">A player id is required.</span>
			<span ng-show="transactionForm.team_id.$invalid && !transactionForm.team_id.$pristine" class="help-block">A team is required.</span>
			<span ng-show="transactionForm.transaction_type.$invalid && !transactionForm.transaction_type.$pristine" class="help-block">A transaction type is required.</span>
			<span ng-show="transactionForm.transaction_date.$invalid && !transactionForm.transaction_date.$pristine" class="help-block">A transaction date is required.</span>
			<span ng-show="transactionForm.status.$invalid && !transactionForm.status.$pristine" class="help-block">A status is required.</span>
			<span ng-show="transactionForm.updated_by.$invalid && !transactionForm.updated_by.$pristine" class="help-block">A name is required.</span>
		</div>
	</div>
</div>
